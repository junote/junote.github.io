---
layout: post
title:  "interview "
date:   2018-09-06
categories: interview
tags: linux c c++ hardware
mathjax: false
---
* content
{:toc}

## a 和 &a 有什么区别

请写出以下代码的打印结果，主要目的是考察a和&a的区别。

~~~
#include<stdio.h> 
void main( void ) 
{ 
     int a[5]={1,2,3,4,5};
     int *ptr=(int *)(&a+1);
     printf("%d,%d",*(a+1),*(ptr-1)); 
     return;

~~~

输出结果：2，5。

注意：数组名a可以作数组的首地址，而&a是数组的指针。思考，将原式的int *ptr=(int *)(&a+1);改为int *ptr=(int *)(a+1);时输出结果将是什么呢


## 简述C、C++程序编译的内存分配情况

C、C++中内存分配方式可以分为三种：

（1）从静态存储区域分配：
内存在程序编译时就已经分配好，这块内存在程序的整个运行期间都存在。速度快、不容易出错，因为有系统会善后。例如全局变量，static变量等。
（2）在栈上分配：
在执行函数时，函数内局部变量的存储单元都在栈上创建，函数执行结束时这些存储单元自动被释放。栈内存分配运算内置于处理器的指令集中，效率很高，但是分配的内存容量有限。
（3）从堆上分配：
即动态内存分配。程序在运行的时候用malloc或new申请任意大小的内存，程序员自己负责在何时用free或delete释放内存。动态内存的生存期由程序员决定，使用非常灵活。如果在堆上分配了空间，就有责任回收它，否则运行的程序会出现内存泄漏，另外频繁地分配和释放不同大小的堆空间将会产生堆内碎块。
一个C、C++程序编译时内存分为5大存储区：堆区、栈区、全局区、文字常量区、程序代码区。


## 关键字const是什么

const用来定义一个只读的变量或对象。主要优点：便于类型检查、同宏定义一样可以方便地进行参数的修改和调整、节省空间，避免不必要的内存分配、可为函数重载提供参考。

## static有什么作用
static在C中主要用于定义全局静态变量、定义局部静态变量、定义静态函数。在C++中新增了两种作用：定义静态数据成员、静态函数成员。\

注意：因为static定义的变量分配在静态区，所以其定义的变量的默认值为0，普通变量的默认值为随机数，在定义指针变量时要特别注意。

## extern有什么作用

extern标识的变量或者函数声明其定义在别的文件中，提示编译器遇到此变量和函数时在其它模块中寻找其定义。

## define

以下程序执行的结果是
~~~
    #include <stdio.h>
    #define N  2
    #define M  N+1
    #define NUM  (M+1)*M/2
    main()
    {
    printf("%d",NUM);
    }
~~~

答案：8

注意宏定义的使用，此处NUM = (N+1+1)*N+1/2=（3+1）*2+1/2 为8








## reference




