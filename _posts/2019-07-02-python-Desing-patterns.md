---
layout: post
title:  "python设计模式-基础"
date:   2019-07-02
categories: python
tags: python
mathjax: false
---
* content
{:toc}

## 面向对象
在Python中，一切皆对象。每个类的实例或变量都有它自己的内存地址或身份。对象就是类的实例，应用开发就是通过让对象交互来实现目的的过程。
#### 对象
1. 表示所开发的应用程序内的实体。
2. 实体之间可以通过交互来解决现实世界的问题。

#### 类
1. 类可以定义对象的属性和行为。属性是数据成员，行为由成员函数表示。
2. 类包含了构造函数，这些函数的作用是为对象提供初始状态。
3. 类就像模板一样，非常易于重复使用。
#### 方法
1. 表示对象的行为。
2. 方法可以对属性进行处理，从而实现所需的功能。

## 概念
#### 封装
1. 对象的行为对于外部世界来说是不可见的，或者说对象的状态信息是私密的。
2. 客户端不能通过直接操作来改变对象的内部状态。相反，客户端需要通过发送消息来请求对象改变其内部状态。对象可以根据请求的类型，通过特定的成员函数（例如get和set）改变它们的内部状态，以做出相应的响应。
3. 在Python中，封装（数据和方法的隐藏）的概念不是隐式的，因为它没有提供封装所需的关键字，诸如public、private和protected（在诸如C++或Java之类的语言中，都提供了这些关键字）。
#### 多态
1. 多态有两种类型。对象根据输入参数提供方法的不同实现。不同类型的对象可以使用相同的接口。
2. 对于Python来说，多态是该语言的内置功能。例如，操作符“+”可以应用于两个整数以进行加法运算，也可以应用于字符串来连接它们。
#### 继承
1. 继承表示一个类可以继承父类的（大部分）功能。
2. 继承被描述为一个重用基类中定义的功能并允许对原始软件的实现进行独立扩展的选项。
3. 继承可以利用不同类的对象之间的关系建立层次结构。与Java不同，Python支持多重继承（继承多个基类）。

#### 抽象
1. 提供了一个简单的客户端接口，客户端可以通过该接口与类的对象进行交互，并可以调用该接口中定义的各个方法。
2. 将内部类的复杂性抽象为一个接口，这样客户端就不需要知道内部实现了。

#### 组合
1. 将对象或类组合成更复杂的数据结构或软件实现的方法。
2. 在组合中，一个对象可用于调用其他模块中的成员函数，这样一来，无需通过继承就可以实现基本功能的跨模块使用。

## 面向对象的设计原则

#### 开放/封闭原则
类或对象及其方法对于扩展来说，应该是开放的，但是对于修改来说，应该是封闭的。

简单地说，这意味着当你开发软件应用的时候，一定确保以通用的方式来编写类或模块，以便每当需要扩展类或对象行为的时候不必修改类本身。相反，类的简单扩展将有助于建立新的行为。

#### 控制反转原则
高层级的模块不应该依赖于低层级的模块，它们应该都依赖于抽象。细节应该依赖于抽象，而不是抽象依赖于细节。

该原则建议任何两个模块都不应以紧密方式相互依赖。事实上，基本模块和从属模块应当在它们之间提供一个抽象层来耦合。

#### 接口隔离原则
客户端不应该依赖于它们不需要使用的接口。

#### 单一职责

类的职责单一，引起类变化的原因单一。这个原则是说，当我们开发类时，它应该为特定的功能服务。

#### 替换原则
派生类必须能够完全取代基类。

## 设计模式的概念

设计模式是由GoF（GangofFour）首先提出的，根据他们的观点，设计模式就是解决特定问题的解决方案。如果你想进一步了解其定义，请参阅DesignPatterns:ElementsofReusableObject-OrientedSoftware一书，而GoF指的就是该书的4位作者。这本书的作者是ErichGamma、RichardHelm、RalphJohnson和JohnVlissides，前言由GradyBooch撰写。本书涵盖了软件设计方面常见问题的软件工程解决方案，书中提供了23种设计模式，并首次利用Java语言给出了程序实现。设计模式本身是一种发现，而不是一种发明。

设计模式的主要特点:
* 它们是语言无关的，可以用多种语言实现。
* 它们是动态的，随时会有新的模式引入。
* 它们可以进行定制，因此对开发人员非常有用。

GoF在他们的设计模式书中讲到了23种设计模式，并将它们分为三大类。
* 创建型模式。
* 结构型模式。
* 行为型模式。

#### 创建型模式
* 运行机制基于对象的创建方式。
* 将对象创建的细节隔离开来。
* 代码与所创建的对象的类型无关。

#### 结构型模式
* 致力于设计出能够通过组合获得更强大功能的对象和类的结构。
* 重点是简化结构并识别类和对象之间的关系。
* 主要关注类的继承和组合。

#### 行为型模式
1. 关注对象之间的交互以及对象的响应性。
2. 对象应该能够交互，同时仍然保持松散耦合。
